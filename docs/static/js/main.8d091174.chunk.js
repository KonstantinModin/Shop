(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"o",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"k",function(){return c}),n.d(t,"l",function(){return u}),n.d(t,"j",function(){return i}),n.d(t,"m",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"n",function(){return E});var r="HANDLE_INGREDIENT",a="SET_INGREDIENTS",o="FETCH_INGREDIENTS_FAILED",c="PURCHASE_BURGER_START",u="PURCHASE_BURGER_SUCCESS",i="PURCHASE_BURGER_FAIL",l="PURCHASE_INIT",s="FETCH_ORDERS_START",d="FETCH_ORDERS_SUCCESS",p="FETCH_ORDERS_FAIL",m="AUTH_START",f="AUTH_SUCCESS",h="AUTH_FAIL",b="AUTH_LOGOUT",E="SET_AUTH_REDIRECT_PATH"},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(25),a=function(e,t){return Object(r.a)({},e,t)},o=function(e){var t=e.validation,n=e.value;if(!e.shouldValidate)return!0;var r=!0;if(t.required&&(r=""!==n.trim()&&r),t.minLength&&(r=n.length>=t.minLength&&r),t.maxLength&&(r=n.length<=t.maxLength&&r),t.isEmail){r=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(n)&&r}return r}},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),a=n(19),o=function(e,t){return{type:r.i,payload:{name:e,q:t}}},c=function(){return function(e){a.a.get("https://burger-shop-6267.firebaseio.com/ingredients.json").then(function(t){var n;e((n=t.data,{type:r.o,payload:n}))}).catch(function(t){return e(function(e){return{type:r.e,payload:e}}(t))})}},u=function(e,t){return function(n){n({type:r.k}),a.a.post("/orders.json?auth="+t,e).then(function(t){n(function(e,t){return{type:r.l,payload:{id:e,data:t}}}(t.data.name,e))}).catch(function(e){return n((t=e,{type:r.j,payload:{error:t}}));var t})}},i=function(){return{type:r.m}},l=function(e,t){return function(n){n({type:r.g});var o="?auth="+e+'&orderBy="userId"&equalTo="'+t+'"';a.a.get("/orders.json"+o).then(function(e){var t;console.log("response.data :",e.data),n((t=Object.entries(e.data),{type:r.h,payload:t}))}).catch(function(e){return n(function(e){return{type:r.f,payload:e}}(e))})}},s=n(29),d=n.n(s),p=function(e){return{type:r.d,payload:{idToken:e.idToken,userId:e.localId}}},m=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:r.b}},f=function(e){return function(t){setTimeout(function(){return t(m())},1e3*e)}},h=function(e,t,n){var a="AIzaSyCwToRAdwhUS9yZK67hNMtpRs11S37mJ9U";return function(o){o({type:r.c});var c={email:e,password:t,returnSecureToken:!0},u="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key="+a;n||(u="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key="+a),d.a.post(u,c).then(function(e){console.log("response",e);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),o(p(e.data)),o(f(e.data.expiresIn))}).catch(function(e){console.log("error :",e.response),o(function(e){return{type:r.a,payload:e}}(e.response.data.error))})}},b=function(e){return{type:r.n,payload:e}},E=function(){return function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate")),r=localStorage.getItem("userId");n>=new Date?(e(p({token:t,userId:r})),e(f((n.getTime()-(new Date).getTime())/1e3))):e(m())}else e(m())}};n.d(t,"d",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"i",function(){return b}),n.d(t,"b",function(){return E})},,,function(e,t,n){"use strict";var r=n(29),a=n.n(r).a.create({baseURL:"https://burger-shop-6267.firebaseio.com/"});t.a=a},,,,,,,,,,,function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(7),c=n(6),u=n(8),i=n(0),l=n.n(i),s=(n(76),n(31)),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(u)))).shouldComponentUpdate=function(e){var t=e.show,r=e.children;return n.props.show!==t||n.props.children!==r},n}return Object(u.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.children,r=e.modalClosed;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{show:t,clicked:r}),l.a.createElement("div",{className:"Modal",style:{transform:t?"translateY(0)":"translateY(-100vh)",opacity:t?"1":"0"}},n))}}]),t}(i.Component);t.a=d},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=(n(71),function(e){var t=e.show,n=e.clicked;return t?a.a.createElement("div",{className:"Backdrop",onClick:n}):null});t.a=o},function(e,t,n){"use strict";var r=n(24),a=n(0),o=n.n(a);n(78);function c(){var e=Object(r.a)([" "]);return c=function(){return e},e}var u=function(e){var t=e.clicked,n=e.children,r=e.btnType,a=e.enabled,u=void 0===a||a;return o.a.createElement("button",{onClick:t,disabled:!u,className:["Button",r].join(c())},n)};t.a=u},,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=(n(96),function(){return a.a.createElement("div",{className:"Spinner"})});t.a=o},function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(7),c=n(6),u=n(8),i=n(0),l=n.n(i),s=n(30),d=function(e,t){return function(n){function i(e){var n;return Object(r.a)(this,i),(n=Object(o.a)(this,Object(c.a)(i).call(this,e))).state={error:null},n.reqInterseptor=t.interceptors.request.use(function(e){return n.setState({error:null}),e}),n.responseInterseptor=t.interceptors.response.use(function(e){return e},function(e){n.setState({error:e})}),n}return Object(u.a)(i,n),Object(a.a)(i,[{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterseptor),t.interceptors.response.eject(this.responseInterseptor)}},{key:"render",value:function(){var t=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{show:this.state.error,modalClosed:function(){return t.setState({error:null})}},this.state.error?this.state.error.message:null),l.a.createElement(e,this.props))}}]),i}(i.Component)};t.a=d},,,,,,,,,,function(e,t,n){"use strict";var r=n(22),a=n(0),o=n.n(a),c=(n(72),function(e){var t=e.type;return t?"bread-top"===t?o.a.createElement("div",{className:"BreadTop"},o.a.createElement("div",{className:"Seeds1"}),o.a.createElement("div",{className:"Seeds2"})):o.a.createElement("div",{className:"bread-bottom"===t?"BreadBottom":"meat"===t?"Meat":"cheese"===t?"Cheese":"salad"===t?"Salad":"Bacon"}):null}),u=(n(73),function(e){var t=e.ingredients,n=Object.keys(t).map(function(e){return Object(r.a)(Array(t[e])).map(function(t,n){return o.a.createElement(c,{key:e+n,type:e})})}).reduce(function(e,t){return[].concat(Object(r.a)(e),Object(r.a)(t))},[]);return 0===n.length&&(n=o.a.createElement("p",null,"Please start adding ingredients!")),o.a.createElement("div",{className:"Burger"},o.a.createElement(c,{type:"bread-top"}),n,o.a.createElement(c,{type:"bread-bottom"}))});t.a=u},,function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},,,function(e,t,n){e.exports=n(97)},,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),c=n.n(o),u=(n(59),n(4)),i=n(5),l=n(7),s=n(6),d=n(8),p=n(15),m=(n(64),n(65),n(51)),f=n.n(m),h=n(13),b=(n(66),function(e){var t=e.st;return a.a.createElement(h.b,{to:"/",className:"Logo",style:t},a.a.createElement("img",{src:f.a,alt:"MyBurger"}))}),E=(n(68),function(e){var t=e.isAuth;return a.a.createElement("nav",{className:"NavigationItems"},a.a.createElement(h.c,{to:"/",exact:!0},"Burger Builder"),t&&a.a.createElement(h.c,{to:"/orders"},"Orders"),t?a.a.createElement(h.c,{to:"/logout"},"Logout"):a.a.createElement(h.c,{to:"/auth"},"Auth"))}),g=(n(69),function(e){var t=e.onClick;return a.a.createElement("div",{className:"DrawerToggle",onClick:t},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}),v=function(e){return a.a.createElement("header",{className:"Toolbar"},a.a.createElement(g,{onClick:e.openSideDraw}),a.a.createElement(b,null),a.a.createElement("nav",{className:"DesktopOnly"},a.a.createElement(E,{isAuth:e.isAuth})))},y=n(24),O=(n(70),n(31));function j(){var e=Object(y.a)([" "]);return j=function(){return e},e}var k=function(e){var t=["SideDrawer"].concat(e.open?"Open":"Close").join(j());return a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{show:e.open,clicked:e.closed}),a.a.createElement("div",{className:t,onClick:e.closed},a.a.createElement(b,{st:{height:"11%"}}),a.a.createElement("nav",null,a.a.createElement(E,{isAuth:e.isAuth}))))},S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={showSideDrawer:!1},n.sideDrawerHandler=function(e){n.setState({showSideDrawer:e})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(v,{isAuth:this.props.isAuth,openSideDraw:function(){return e.sideDrawerHandler(!0)}}),a.a.createElement(k,{isAuth:this.props.isAuth,open:this.state.showSideDrawer,closed:function(){return e.sideDrawerHandler(!1)}}),a.a.createElement("main",{className:"LayoutContent"},this.props.children))}}]),t}(r.Component),w=Object(p.b)(function(e){return{isAuth:null!==e.auth.token}})(S),A=n(25),C=n(49),I=(n(74),n(75),function(e){var t=e.label,n=e.disabled,r=e.action,o=e.type;return a.a.createElement("div",{className:"Line"},a.a.createElement("div",{className:"Label"},t),a.a.createElement("button",{className:"Less",onClick:function(){return r(o,-1)},disabled:n},"Less"),a.a.createElement("button",{className:"More",onClick:function(){return r(o,1)}},"More"))}),N=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],T=function(e){var t=e.price,n=e.ingredientHandler,r=e.disabled,o=e.canWeOrder,c=e.orderNowButton,u=e.isAuth;return a.a.createElement("div",{className:"Controls"},a.a.createElement("div",null,"Current price: ",a.a.createElement("strong",null,t.toFixed(2))," Euros"),N.map(function(e){var t=e.label,o=e.type;return a.a.createElement(I,{key:t,label:t,type:o,action:n,disabled:r[o]})}),a.a.createElement("button",{className:"OrderButton",disabled:!o,onClick:function(){return c(!0)}},u?"Order Now":"Please Sign Up"))},D=n(30),R=(n(77),n(32)),H=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.order,n=e.totalP,r=e.cancel,o=e.makeAdeal,c=Object.keys(t).filter(function(e){return t[e]>0}).map(function(e){return a.a.createElement("li",{key:e},a.a.createElement("span",{style:{textTransform:"capitalize"}},e),": ",t[e])});return a.a.createElement("div",{className:"OrderSummary"},a.a.createElement("h2",null,"Your Order Total Price is "),a.a.createElement("h1",null,n.toFixed(2)," $"),a.a.createElement("p",null,"A delicious burger with the following ingredients:"),a.a.createElement("ul",null,c),a.a.createElement("p",null,"Continue to Checkout?"),a.a.createElement(R.a,{btnType:"Danger",clicked:r},"CANCEL"),a.a.createElement(R.a,{btnType:"Success",clicked:o},"CONTINUE"))}}]),t}(r.Component),_=n(19),U=n(38),B=n(39),P=n(16),L=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={buttonClicked:!1},n.orderNowButtonHandler=function(e){n.props.isAuth?n.setState({buttonClicked:e}):(n.props.onSetAuthRedirectPath("/checkout"),n.props.history.push("/auth"))},n.purchaseContinueHandler=function(){n.props.history.push("/checkout")},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initIngredient(),this.props.purchaseInit()}},{key:"render",value:function(){var e=this,t=this.state.buttonClicked,n=this.props,r=n.ingredients,o=n.totalPrice,c=n.ingredientHandler,u=n.error,i=n.isAuth,l=Object(A.a)({},r);for(var s in l)l[s]=0===l[s];var d=!1,p=null,m=u?a.a.createElement("h1",null,"Ingredients can't be loaded!"):a.a.createElement(U.a,null);return r&&(d=Object.values(r).some(function(e){return e>0}),m=a.a.createElement(a.a.Fragment,null,a.a.createElement(C.a,{ingredients:r}),a.a.createElement(T,{ingredientHandler:c,disabled:l,price:o,canWeOrder:d,orderNowButton:this.orderNowButtonHandler,isAuth:i})),p=a.a.createElement(H,{order:r,totalP:o,cancel:function(){return e.orderNowButtonHandler(!1)},makeAdeal:this.purchaseContinueHandler})),a.a.createElement(a.a.Fragment,null,a.a.createElement(D.a,{show:t,modalClosed:function(){return e.orderNowButtonHandler(!1)}},p),m)}}]),t}(r.Component),F=Object(p.b)(function(e){return{ingredients:e.builder.ingredients,totalPrice:e.builder.totalPrice,error:e.builder.error,isAuth:null!==e.auth.token}},function(e){return{ingredientHandler:function(t,n){return e(Object(P.d)(t,n))},initIngredient:function(){return e(Object(P.e)())},purchaseInit:function(){return e(Object(P.h)())},onSetAuthRedirectPath:function(t){return e(Object(P.i)(t))}}})(Object(B.a)(L,_.a)),x=n(18),M=Object(p.b)(null,function(e){return{onLogout:function(){return e(Object(P.f)())}}})(function(e){return Object(r.useEffect)(function(){e.onLogout()},[]),a.a.createElement(x.a,{to:"/"})}),z=function(e){return function(t){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={},t}return Object(d.a)(n,t),Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;e().then(function(e){console.log("cmp",e),t.setState({component:e.default})})}},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):null}}]),n}(r.Component)},q=z(function(){return n.e(3).then(n.bind(null,107))}),G=z(function(){return n.e(5).then(n.bind(null,108))}),J=z(function(){return n.e(4).then(n.bind(null,109))}),W=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("app component did moun"),this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=this.props.isAuth,t=a.a.createElement(x.d,null,a.a.createElement(x.b,{path:"/auth",component:J}),a.a.createElement(x.b,{path:"/",exact:!0,component:F}),a.a.createElement(x.a,{to:"/"}));return e&&(t=a.a.createElement(x.d,null,a.a.createElement(x.b,{path:"/checkout",component:q}),a.a.createElement(x.b,{path:"/auth",component:J}),a.a.createElement(x.b,{path:"/orders",component:G}),a.a.createElement(x.b,{path:"/logout",component:M}),a.a.createElement(x.b,{path:"/",exact:!0,component:F}),a.a.createElement(x.a,{to:"/"}))),a.a.createElement("div",{className:"App"},a.a.createElement(w,null,t))}}]),t}(r.Component),Y=Object(x.g)(Object(p.b)(function(e){return{isAuth:null!==e.auth.token}},function(e){return{onTryAutoSignup:function(){return e(Object(P.b)())}}})(W)),$=n(20),V=n(53),K=n(28),Z=n(1),Q=n(2),X={salad:.1,cheese:.1,meat:.3,bacon:.2},ee={ingredients:null,totalPrice:2,error:!1,building:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Z.o:return Object(Q.b)(e,{ingredients:{salad:r.salad,bacon:r.bacon,cheese:r.cheese,meat:r.meat},totalPrice:2,error:!1,building:!1});case Z.e:return Object(Q.b)(e,{error:!0});case Z.i:return Object(Q.b)(e,{ingredients:Object(Q.b)(e.ingredients,Object(K.a)({},r.name,e.ingredients[r.name]+r.q)),totalPrice:e.totalPrice+X[r.name]*r.q,building:!0});default:return e}},ne=n(22),re={orders:[],loading:!1,purchased:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Z.k:return Object(Q.b)(e,{loading:!0});case Z.l:var a=[r.id,{ingredients:r.data.ingredients,price:r.data.price,date:r.data.date,customerData:r.data.customerData,deliveryMethod:r.data.deliveryMethod}];return Object(Q.b)(e,{loading:!1,orders:[].concat(Object(ne.a)(e.orders),[a]),purchased:!0});case Z.j:return Object(Q.b)(e,{loading:!1});case Z.m:return Object(Q.b)(e,{purchased:!1});case Z.g:return Object(Q.b)(e,{loading:!0});case Z.h:return Object(Q.b)(e,{orders:r,loading:!1});case Z.f:return Object(Q.b)(e,{loading:!1});default:return e}},oe={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/"},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Z.c:return Object(Q.b)(e,{error:null,loading:!0});case Z.a:return Object(Q.b)(e,{error:r,loading:!1});case Z.d:return Object(Q.b)(e,{token:r.idToken,userId:r.userId,error:null,loading:!1});case Z.b:return oe;case Z.n:return Object(Q.b)(e,{authRedirectPath:r});default:return e}},ue=Object($.c)({builder:te,order:ae,auth:ce});console.log("process.env.NODE_ENV :","production");var ie=$.d,le=Object($.e)(ue,ie(Object($.a)(V.a)));c.a.render(a.a.createElement(p.a,{store:le},a.a.createElement(h.a,null,a.a.createElement(Y,null))),document.getElementById("root"))}],[[54,1,2]]]);
//# sourceMappingURL=main.8d091174.chunk.js.map